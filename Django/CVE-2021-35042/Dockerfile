FROM vulhub/django:3.2.4

COPY web/ /usr/src/
COPY docker-entrypoint.sh /docker-entrypoint.sh
RUN chmod +x /docker-entrypoint.sh

WORKDIR /usr/src
ENTRYPOINT [ "bash", "/docker-entrypoint.sh"]
CMD [ "python", "app.py", "runserver", "0.0.0.0:8000" ]

version: '3'
services:
  django-app:
    build: .
    ports:
      - "8000:8000"
